/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (() => {

eval("const BASE_URL = 'https://eu-central-1.aws.data.mongodb-api.com/app/discoapp-cacui/endpoint/data/v1';\n\nasync function showShops() {\n  const tokenElement = document.getElementById('access-token')\n  console.log('tokenElement.value',tokenElement.value)\n\n  const shops = await getShops(tokenElement.value)\n  console.log('shops',shops)\n\n\n  const statusElement = document.getElementById('status')\n  if (shops.error) {\n    statusElement.innerText = `Error: ${shops.error}`\n    statusElement.style.borderColor = 'tomato'\n  } else {\n    statusElement.innerText = `Shops are loaded! üõí`\n    statusElement.style.borderColor = 'darkgreen'\n\n    const shopsSelect = document.getElementById('shops-list');\n    shops.documents.forEach(shop => {\n      shopsSelect.add(new Option(shop.name, shop._id));\n    })\n\n    setTimeout(() => {\n      statusElement.innerText = `Choose Shop and fill in Discount data -> click Save`\n      statusElement.style.borderColor = 'blue'\n    }, 3e3)\n  }\n}\n\nasync function onSave () {\n  const tokenElement = document.getElementById('access-token')\n  console.log('tokenElement.innerText',tokenElement.value)\n\n  const selectedShop = document.getElementById('shops-list').value;\n  console.log('selectedShop',selectedShop)\n\n  const imagesUrls = [...document.querySelectorAll('.image-url')]\n    .filter(e => !!e.value)\n    .map(e => e.value)\n  const dateStart = document.getElementById('date-start').value\n  const dateEnd = document.getElementById('date-end').value\n\n  const discountPayload = {dateStart, dateEnd, previewUrl: imagesUrls[0], imagesUrls, selectedShop}\n  console.log('discountPayload',discountPayload)\n\n  if (!validate(discountPayload)) {\n    return\n  }\n\n  const statusElement = document.getElementById('status')\n  try {\n    const discoResponse = await postDiscount(tokenElement.value, discountPayload)\n    console.log('discoResponse',discoResponse)\n    const discountId = discoResponse.insertedId\n\n    const shopUpdatedResponse = await addDiscoToShop(tokenElement.value, {shopId: selectedShop, discountId})\n    console.log('shopUpdatedResponse',shopUpdatedResponse)\n\n    if (discoResponse.insertedId) {\n      statusElement.innerText = `Success! üòé Discount is saved and attached to the shop üõçÔ∏è`\n      statusElement.style.borderColor = 'darkgreen'\n\n      clearAllFields()\n    } else {\n      statusElement.innerText = `Error: ${discoResponse.error || shopUpdatedResponse.error}`\n      statusElement.style.borderColor = 'tomato'\n    }\n  } catch (e) {\n    statusElement.innerText = `Error: ${e.error}`\n    statusElement.style.borderColor = 'tomato'\n  }\n}\n\nfunction validate({dateStart, dateEnd, imagesUrls, selectedShop}) {\n  const statusElement = document.getElementById('status')\n\n  if (!selectedShop) {\n    statusElement.innerText = `üè¨Ô∏è Choose a Shop!`\n    statusElement.style.borderColor = 'tomato'\n    return false\n  }\n\n  if (!dateStart || !dateEnd || !isValidDateFormat(dateStart) || !isValidDateFormat(dateEnd)) {\n    statusElement.innerText = `üìÖÔ∏è Something wrong with Dates - empty or wrong format!`\n    statusElement.style.borderColor = 'tomato'\n    return false\n  }\n\n  if (!imagesUrls || !imagesUrls.length) {\n    statusElement.innerText = `üîó At least one Discount Url Image needed!`\n    statusElement.style.borderColor = 'tomato'\n    return false\n  }\n\n  return true\n}\n\nasync function getShops(token) {\n const shopsResponse = await fetch(`${BASE_URL}/action/find`, {\n    method: \"POST\",\n    mode: \"cors\",\n    credentials: 'include',\n    headers: {\n      \"Content-Type\": \"application/ejson\",\n      \"Accept\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },body: JSON.stringify({\n      dataSource: \"mongodb-atlas\",\n      database: \"DiscoAppDB\",\n      collection: \"Shop\",\n    }),\n  });\n  console.log('shopsResponse',shopsResponse)\n  return shopsResponse.json();\n}\n\nasync function addDiscoToShop(token, {shopId, discountId}) {\n  const shopsResponse = await fetch(`${BASE_URL}/action/updateOne`, {\n    method: \"POST\",\n    mode: \"cors\",\n    credentials: 'include',\n    headers: {\n      \"Content-Type\": \"application/ejson\",\n      \"Accept\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },body: JSON.stringify({\n      dataSource: \"mongodb-atlas\",\n      database: \"DiscoAppDB\",\n      collection: \"Shop\",\n      filter: {\n        _id: { \"$oid\": shopId }\n      },\n      update: {\n        \"$push\": {discounts: {\"$oid\": discountId}}\n      }\n    }),\n  });\n  console.log('shopsResponse',shopsResponse)\n  return shopsResponse.json();\n}\n\nasync function postDiscount(token, payload) {\n  const postResponse = await fetch(`${BASE_URL}/action/insertOne`, {\n    method: \"POST\",\n    mode: \"cors\",\n    // cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n    // credentials: \"same-origin\", // include, *same-origin, omit\n    credentials: 'include',\n    headers: {\n      \"Content-Type\": \"application/ejson\",\n      \"Accept\": \"application/json\",\n      // apiKey: 'pnhIbu6M4xp6iWl03Q0bFzIQ9vQ3FgZz8vl9nwRWocJ4ozCveYgnEGjCB66UYUWt',\n      Authorization: `Bearer ${token}`\n      // 'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    // referrerPolicy: \"no-referrer\", // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n    body: JSON.stringify({\n      dataSource: \"mongodb-atlas\",\n      database: \"DiscoAppDB\",\n      collection: \"Discount\",\n      document: {\n        _id: { \"$oid\": generateHexadecimalHash(24) },\n        description: 'test-des',\n        ...payload\n      }\n    }), // body data type must match \"Content-Type\" header\n  });\n  console.log('postResponse',postResponse)\n  return postResponse.json(); // parses JSON shopsResponse into native JavaScript objects\n}\n\nfunction generateHexadecimalHash(length) {\n  let result = '';\n  const characters = 'abcdef0123456789';\n  const charactersLength = characters.length;\n  let counter = 0;\n  while (counter < length) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    counter += 1;\n  }\n  return result;\n}\n\nfunction addInput() {\n  const container = document.getElementById('inputs-container')\n  const newInput = document.createElement('input')\n  newInput.className = 'image-url'\n  newInput.style.display = \"block\"\n  newInput.style.width = '800px'\n  newInput.style.marginBottom = '5px'\n\n  container.appendChild(newInput)\n}\n\nfunction clearAllFields() {\n  [...document.querySelectorAll('.image-url')].forEach(elem => elem.value = '')\n  document.getElementById('date-start').value = '';\n  document.getElementById('date-end').value = '';\n  document.getElementById('shops-list').value = '';\n\n  const statusElement = document.getElementById('status')\n  setTimeout(() => {\n    statusElement.innerText = `Choose Shop üè¨and fill in Discount data  -> click Save`\n    statusElement.style.borderColor = 'blue'\n  }, 2e3)\n}\n\nfunction isValidDateFormat(dateString) {\n  // Regular expression for matching the \"YYYY-MM-DD\" format\n  const regex = /^\\d{4}-\\d{2}-\\d{2}$/;\n\n  // Test the dateString against the regex\n  if (regex.test(dateString)) {\n    // Additional check to ensure the date is valid (e.g., not \"2023-02-30\")\n    const date = new Date(dateString);\n    return date instanceof Date && !isNaN(date);\n  }\n\n  return false;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSx3Q0FBd0MsWUFBWTtBQUNwRDtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkI7QUFDM0I7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEVBQTBFLGlDQUFpQztBQUMzRzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ04sMENBQTBDLGlEQUFpRDtBQUMzRjtBQUNBO0FBQ0EsSUFBSTtBQUNKLHdDQUF3QyxRQUFRO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsNkNBQTZDO0FBQ2hFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0MsU0FBUztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsTUFBTTtBQUNyQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUEsc0NBQXNDLG1CQUFtQjtBQUN6RCx1Q0FBdUMsU0FBUztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsTUFBTTtBQUNyQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsT0FBTztBQUNQO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNDQUFzQyxTQUFTO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixNQUFNO0FBQ3JDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscUNBQXFDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSw4QkFBOEI7QUFDOUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQixFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGlzY28tdXBsb2FkZXItZmlyZWJhc2UvLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBCQVNFX1VSTCA9ICdodHRwczovL2V1LWNlbnRyYWwtMS5hd3MuZGF0YS5tb25nb2RiLWFwaS5jb20vYXBwL2Rpc2NvYXBwLWNhY3VpL2VuZHBvaW50L2RhdGEvdjEnO1xuXG5hc3luYyBmdW5jdGlvbiBzaG93U2hvcHMoKSB7XG4gIGNvbnN0IHRva2VuRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2Nlc3MtdG9rZW4nKVxuICBjb25zb2xlLmxvZygndG9rZW5FbGVtZW50LnZhbHVlJyx0b2tlbkVsZW1lbnQudmFsdWUpXG5cbiAgY29uc3Qgc2hvcHMgPSBhd2FpdCBnZXRTaG9wcyh0b2tlbkVsZW1lbnQudmFsdWUpXG4gIGNvbnNvbGUubG9nKCdzaG9wcycsc2hvcHMpXG5cblxuICBjb25zdCBzdGF0dXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cycpXG4gIGlmIChzaG9wcy5lcnJvcikge1xuICAgIHN0YXR1c0VsZW1lbnQuaW5uZXJUZXh0ID0gYEVycm9yOiAke3Nob3BzLmVycm9yfWBcbiAgICBzdGF0dXNFbGVtZW50LnN0eWxlLmJvcmRlckNvbG9yID0gJ3RvbWF0bydcbiAgfSBlbHNlIHtcbiAgICBzdGF0dXNFbGVtZW50LmlubmVyVGV4dCA9IGBTaG9wcyBhcmUgbG9hZGVkISDwn5uSYFxuICAgIHN0YXR1c0VsZW1lbnQuc3R5bGUuYm9yZGVyQ29sb3IgPSAnZGFya2dyZWVuJ1xuXG4gICAgY29uc3Qgc2hvcHNTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvcHMtbGlzdCcpO1xuICAgIHNob3BzLmRvY3VtZW50cy5mb3JFYWNoKHNob3AgPT4ge1xuICAgICAgc2hvcHNTZWxlY3QuYWRkKG5ldyBPcHRpb24oc2hvcC5uYW1lLCBzaG9wLl9pZCkpO1xuICAgIH0pXG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHN0YXR1c0VsZW1lbnQuaW5uZXJUZXh0ID0gYENob29zZSBTaG9wIGFuZCBmaWxsIGluIERpc2NvdW50IGRhdGEgLT4gY2xpY2sgU2F2ZWBcbiAgICAgIHN0YXR1c0VsZW1lbnQuc3R5bGUuYm9yZGVyQ29sb3IgPSAnYmx1ZSdcbiAgICB9LCAzZTMpXG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gb25TYXZlICgpIHtcbiAgY29uc3QgdG9rZW5FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY2Vzcy10b2tlbicpXG4gIGNvbnNvbGUubG9nKCd0b2tlbkVsZW1lbnQuaW5uZXJUZXh0Jyx0b2tlbkVsZW1lbnQudmFsdWUpXG5cbiAgY29uc3Qgc2VsZWN0ZWRTaG9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3BzLWxpc3QnKS52YWx1ZTtcbiAgY29uc29sZS5sb2coJ3NlbGVjdGVkU2hvcCcsc2VsZWN0ZWRTaG9wKVxuXG4gIGNvbnN0IGltYWdlc1VybHMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmltYWdlLXVybCcpXVxuICAgIC5maWx0ZXIoZSA9PiAhIWUudmFsdWUpXG4gICAgLm1hcChlID0+IGUudmFsdWUpXG4gIGNvbnN0IGRhdGVTdGFydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlLXN0YXJ0JykudmFsdWVcbiAgY29uc3QgZGF0ZUVuZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlLWVuZCcpLnZhbHVlXG5cbiAgY29uc3QgZGlzY291bnRQYXlsb2FkID0ge2RhdGVTdGFydCwgZGF0ZUVuZCwgcHJldmlld1VybDogaW1hZ2VzVXJsc1swXSwgaW1hZ2VzVXJscywgc2VsZWN0ZWRTaG9wfVxuICBjb25zb2xlLmxvZygnZGlzY291bnRQYXlsb2FkJyxkaXNjb3VudFBheWxvYWQpXG5cbiAgaWYgKCF2YWxpZGF0ZShkaXNjb3VudFBheWxvYWQpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBzdGF0dXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cycpXG4gIHRyeSB7XG4gICAgY29uc3QgZGlzY29SZXNwb25zZSA9IGF3YWl0IHBvc3REaXNjb3VudCh0b2tlbkVsZW1lbnQudmFsdWUsIGRpc2NvdW50UGF5bG9hZClcbiAgICBjb25zb2xlLmxvZygnZGlzY29SZXNwb25zZScsZGlzY29SZXNwb25zZSlcbiAgICBjb25zdCBkaXNjb3VudElkID0gZGlzY29SZXNwb25zZS5pbnNlcnRlZElkXG5cbiAgICBjb25zdCBzaG9wVXBkYXRlZFJlc3BvbnNlID0gYXdhaXQgYWRkRGlzY29Ub1Nob3AodG9rZW5FbGVtZW50LnZhbHVlLCB7c2hvcElkOiBzZWxlY3RlZFNob3AsIGRpc2NvdW50SWR9KVxuICAgIGNvbnNvbGUubG9nKCdzaG9wVXBkYXRlZFJlc3BvbnNlJyxzaG9wVXBkYXRlZFJlc3BvbnNlKVxuXG4gICAgaWYgKGRpc2NvUmVzcG9uc2UuaW5zZXJ0ZWRJZCkge1xuICAgICAgc3RhdHVzRWxlbWVudC5pbm5lclRleHQgPSBgU3VjY2VzcyEg8J+YjiBEaXNjb3VudCBpcyBzYXZlZCBhbmQgYXR0YWNoZWQgdG8gdGhlIHNob3Ag8J+bje+4j2BcbiAgICAgIHN0YXR1c0VsZW1lbnQuc3R5bGUuYm9yZGVyQ29sb3IgPSAnZGFya2dyZWVuJ1xuXG4gICAgICBjbGVhckFsbEZpZWxkcygpXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXR1c0VsZW1lbnQuaW5uZXJUZXh0ID0gYEVycm9yOiAke2Rpc2NvUmVzcG9uc2UuZXJyb3IgfHwgc2hvcFVwZGF0ZWRSZXNwb25zZS5lcnJvcn1gXG4gICAgICBzdGF0dXNFbGVtZW50LnN0eWxlLmJvcmRlckNvbG9yID0gJ3RvbWF0bydcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBzdGF0dXNFbGVtZW50LmlubmVyVGV4dCA9IGBFcnJvcjogJHtlLmVycm9yfWBcbiAgICBzdGF0dXNFbGVtZW50LnN0eWxlLmJvcmRlckNvbG9yID0gJ3RvbWF0bydcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZSh7ZGF0ZVN0YXJ0LCBkYXRlRW5kLCBpbWFnZXNVcmxzLCBzZWxlY3RlZFNob3B9KSB7XG4gIGNvbnN0IHN0YXR1c0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzJylcblxuICBpZiAoIXNlbGVjdGVkU2hvcCkge1xuICAgIHN0YXR1c0VsZW1lbnQuaW5uZXJUZXh0ID0gYPCfj6zvuI8gQ2hvb3NlIGEgU2hvcCFgXG4gICAgc3RhdHVzRWxlbWVudC5zdHlsZS5ib3JkZXJDb2xvciA9ICd0b21hdG8nXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBpZiAoIWRhdGVTdGFydCB8fCAhZGF0ZUVuZCB8fCAhaXNWYWxpZERhdGVGb3JtYXQoZGF0ZVN0YXJ0KSB8fCAhaXNWYWxpZERhdGVGb3JtYXQoZGF0ZUVuZCkpIHtcbiAgICBzdGF0dXNFbGVtZW50LmlubmVyVGV4dCA9IGDwn5OF77iPIFNvbWV0aGluZyB3cm9uZyB3aXRoIERhdGVzIC0gZW1wdHkgb3Igd3JvbmcgZm9ybWF0IWBcbiAgICBzdGF0dXNFbGVtZW50LnN0eWxlLmJvcmRlckNvbG9yID0gJ3RvbWF0bydcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGlmICghaW1hZ2VzVXJscyB8fCAhaW1hZ2VzVXJscy5sZW5ndGgpIHtcbiAgICBzdGF0dXNFbGVtZW50LmlubmVyVGV4dCA9IGDwn5SXIEF0IGxlYXN0IG9uZSBEaXNjb3VudCBVcmwgSW1hZ2UgbmVlZGVkIWBcbiAgICBzdGF0dXNFbGVtZW50LnN0eWxlLmJvcmRlckNvbG9yID0gJ3RvbWF0bydcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFNob3BzKHRva2VuKSB7XG4gY29uc3Qgc2hvcHNSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0JBU0VfVVJMfS9hY3Rpb24vZmluZGAsIHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIG1vZGU6IFwiY29yc1wiLFxuICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9lanNvblwiLFxuICAgICAgXCJBY2NlcHRcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YFxuICAgIH0sYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgZGF0YVNvdXJjZTogXCJtb25nb2RiLWF0bGFzXCIsXG4gICAgICBkYXRhYmFzZTogXCJEaXNjb0FwcERCXCIsXG4gICAgICBjb2xsZWN0aW9uOiBcIlNob3BcIixcbiAgICB9KSxcbiAgfSk7XG4gIGNvbnNvbGUubG9nKCdzaG9wc1Jlc3BvbnNlJyxzaG9wc1Jlc3BvbnNlKVxuICByZXR1cm4gc2hvcHNSZXNwb25zZS5qc29uKCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFkZERpc2NvVG9TaG9wKHRva2VuLCB7c2hvcElkLCBkaXNjb3VudElkfSkge1xuICBjb25zdCBzaG9wc1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFTRV9VUkx9L2FjdGlvbi91cGRhdGVPbmVgLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBtb2RlOiBcImNvcnNcIixcbiAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vZWpzb25cIixcbiAgICAgIFwiQWNjZXB0XCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWBcbiAgICB9LGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGRhdGFTb3VyY2U6IFwibW9uZ29kYi1hdGxhc1wiLFxuICAgICAgZGF0YWJhc2U6IFwiRGlzY29BcHBEQlwiLFxuICAgICAgY29sbGVjdGlvbjogXCJTaG9wXCIsXG4gICAgICBmaWx0ZXI6IHtcbiAgICAgICAgX2lkOiB7IFwiJG9pZFwiOiBzaG9wSWQgfVxuICAgICAgfSxcbiAgICAgIHVwZGF0ZToge1xuICAgICAgICBcIiRwdXNoXCI6IHtkaXNjb3VudHM6IHtcIiRvaWRcIjogZGlzY291bnRJZH19XG4gICAgICB9XG4gICAgfSksXG4gIH0pO1xuICBjb25zb2xlLmxvZygnc2hvcHNSZXNwb25zZScsc2hvcHNSZXNwb25zZSlcbiAgcmV0dXJuIHNob3BzUmVzcG9uc2UuanNvbigpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBwb3N0RGlzY291bnQodG9rZW4sIHBheWxvYWQpIHtcbiAgY29uc3QgcG9zdFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFTRV9VUkx9L2FjdGlvbi9pbnNlcnRPbmVgLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBtb2RlOiBcImNvcnNcIixcbiAgICAvLyBjYWNoZTogXCJuby1jYWNoZVwiLCAvLyAqZGVmYXVsdCwgbm8tY2FjaGUsIHJlbG9hZCwgZm9yY2UtY2FjaGUsIG9ubHktaWYtY2FjaGVkXG4gICAgLy8gY3JlZGVudGlhbHM6IFwic2FtZS1vcmlnaW5cIiwgLy8gaW5jbHVkZSwgKnNhbWUtb3JpZ2luLCBvbWl0XG4gICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2Vqc29uXCIsXG4gICAgICBcIkFjY2VwdFwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIC8vIGFwaUtleTogJ3BuaElidTZNNHhwNmlXbDAzUTBiRnpJUTl2UTNGZ1p6OHZsOW53UldvY0o0b3pDdmVZZ25FR2pDQjY2VVlVV3QnLFxuICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWBcbiAgICAgIC8vICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICB9LFxuICAgIC8vIHJlZmVycmVyUG9saWN5OiBcIm5vLXJlZmVycmVyXCIsIC8vIG5vLXJlZmVycmVyLCAqbm8tcmVmZXJyZXItd2hlbi1kb3duZ3JhZGUsIG9yaWdpbiwgb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luLCBzYW1lLW9yaWdpbiwgc3RyaWN0LW9yaWdpbiwgc3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiwgdW5zYWZlLXVybFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGRhdGFTb3VyY2U6IFwibW9uZ29kYi1hdGxhc1wiLFxuICAgICAgZGF0YWJhc2U6IFwiRGlzY29BcHBEQlwiLFxuICAgICAgY29sbGVjdGlvbjogXCJEaXNjb3VudFwiLFxuICAgICAgZG9jdW1lbnQ6IHtcbiAgICAgICAgX2lkOiB7IFwiJG9pZFwiOiBnZW5lcmF0ZUhleGFkZWNpbWFsSGFzaCgyNCkgfSxcbiAgICAgICAgZGVzY3JpcHRpb246ICd0ZXN0LWRlcycsXG4gICAgICAgIC4uLnBheWxvYWRcbiAgICAgIH1cbiAgICB9KSwgLy8gYm9keSBkYXRhIHR5cGUgbXVzdCBtYXRjaCBcIkNvbnRlbnQtVHlwZVwiIGhlYWRlclxuICB9KTtcbiAgY29uc29sZS5sb2coJ3Bvc3RSZXNwb25zZScscG9zdFJlc3BvbnNlKVxuICByZXR1cm4gcG9zdFJlc3BvbnNlLmpzb24oKTsgLy8gcGFyc2VzIEpTT04gc2hvcHNSZXNwb25zZSBpbnRvIG5hdGl2ZSBKYXZhU2NyaXB0IG9iamVjdHNcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVIZXhhZGVjaW1hbEhhc2gobGVuZ3RoKSB7XG4gIGxldCByZXN1bHQgPSAnJztcbiAgY29uc3QgY2hhcmFjdGVycyA9ICdhYmNkZWYwMTIzNDU2Nzg5JztcbiAgY29uc3QgY2hhcmFjdGVyc0xlbmd0aCA9IGNoYXJhY3RlcnMubGVuZ3RoO1xuICBsZXQgY291bnRlciA9IDA7XG4gIHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0ICs9IGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnNMZW5ndGgpKTtcbiAgICBjb3VudGVyICs9IDE7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gYWRkSW5wdXQoKSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dHMtY29udGFpbmVyJylcbiAgY29uc3QgbmV3SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXG4gIG5ld0lucHV0LmNsYXNzTmFtZSA9ICdpbWFnZS11cmwnXG4gIG5ld0lucHV0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgbmV3SW5wdXQuc3R5bGUud2lkdGggPSAnODAwcHgnXG4gIG5ld0lucHV0LnN0eWxlLm1hcmdpbkJvdHRvbSA9ICc1cHgnXG5cbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0lucHV0KVxufVxuXG5mdW5jdGlvbiBjbGVhckFsbEZpZWxkcygpIHtcbiAgWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbWFnZS11cmwnKV0uZm9yRWFjaChlbGVtID0+IGVsZW0udmFsdWUgPSAnJylcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUtc3RhcnQnKS52YWx1ZSA9ICcnO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZS1lbmQnKS52YWx1ZSA9ICcnO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvcHMtbGlzdCcpLnZhbHVlID0gJyc7XG5cbiAgY29uc3Qgc3RhdHVzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXMnKVxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBzdGF0dXNFbGVtZW50LmlubmVyVGV4dCA9IGBDaG9vc2UgU2hvcCDwn4+sYW5kIGZpbGwgaW4gRGlzY291bnQgZGF0YSAgLT4gY2xpY2sgU2F2ZWBcbiAgICBzdGF0dXNFbGVtZW50LnN0eWxlLmJvcmRlckNvbG9yID0gJ2JsdWUnXG4gIH0sIDJlMylcbn1cblxuZnVuY3Rpb24gaXNWYWxpZERhdGVGb3JtYXQoZGF0ZVN0cmluZykge1xuICAvLyBSZWd1bGFyIGV4cHJlc3Npb24gZm9yIG1hdGNoaW5nIHRoZSBcIllZWVktTU0tRERcIiBmb3JtYXRcbiAgY29uc3QgcmVnZXggPSAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9JC87XG5cbiAgLy8gVGVzdCB0aGUgZGF0ZVN0cmluZyBhZ2FpbnN0IHRoZSByZWdleFxuICBpZiAocmVnZXgudGVzdChkYXRlU3RyaW5nKSkge1xuICAgIC8vIEFkZGl0aW9uYWwgY2hlY2sgdG8gZW5zdXJlIHRoZSBkYXRlIGlzIHZhbGlkIChlLmcuLCBub3QgXCIyMDIzLTAyLTMwXCIpXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpO1xuICAgIHJldHVybiBkYXRlIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4oZGF0ZSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/index.js"]();
/******/ 	
/******/ })()
;